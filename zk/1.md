<<<<<<< HEAD:zk/1.md
## zookeeper¼ò½é
* zookeeperÊÇ·Ö²¼Ê½¡¢¸ß¿É¿¿¸ß¿ÉÓÃÏµÍ³
* ½â¾ö£º·Ö²¼Ê½ÏµÍ³ÖÐ£¬½ÚÓë½ÚµãÖ®¼äµÄ¶¯Ì¬¸ÐÖª
* Ìá¹©µÄ¹¦ÄÜ£º
	* Êý¾Ý×¢²á
	* Êý¾Ý²éÑ¯
	* Êý¾Ý¼àÌý
	
* Êý¾Ý×éÖ¯ÐÎÊ½£ºkey(znode)--value
* Êý¾Ý½ÚµãÄ£Ê½£º
	* ÓÀ¾ÃÄ£Ê½ Persistent£ºÒ»µ©±»´´½¨£¬³ý·Ç¿Í»§¶ËÖ÷¶¯É¾³ý£¬ÔòÒ»Ö±±£´æ£»
	* ÁÙÊ±Ä£Ê½ Ephemeral£º´´½¨ÕâÀà½ÚµãµÄ¿Í»§¶Ë±ØÐë¸úzk¼¯Èº±£³ÖÐÄÌøÍ¨ÐÅ£¬Ò»µ©ÐÄÌøÁ¬½ÓÖÐ¶Ï£¬zk·þÎñ»á×Ô¶¯½«Õâ¸ö¿Í»§¶ËËù´´½¨µÄ½ÚµãÉ¾³ý
	* ´øÐòºÅµÄÄ£Ê½Sequential £ºÒ»µ©´´½¨ÕâÀà½Úµã£¬zk»á×ÔÖ÷ÔÚ¿Í»§¶ËËù´´½¨µÄkeyÉÏÆ´½ÓÒ»¸öÐòºÅ
		* e
		* e+s
		* p
		* p+s
* zookeeperÐèÒªÆæÊýÌ¨
		* Ô­Òò£ºzookeeperÕâ¸ö·Ö²¼Ê½ÏµÍ³Ã»ÓÐ¹Ì¶¨µÄÖ÷½Úµã£¨leader£©,°²×°Ê±²»Çø·ÖÖ÷½Úµã£¬ËüµÄÖ÷½ÚµãÊÇÍ¨¹ý¼¯Èº¸÷½Úµã¶¯Ì¬Ñ¡¾Ù³öÀ´µÄ£»Ë­µÃ¶àÊýÆ±£¬Ë­¾Íµ±Ñ¡Îªleader
		* Ñ¡¾Ù£º
		
		![1Ñ¡¾Ù.png](https://upload-images.jianshu.io/upload_images/14466577-1ce8e36cd61b6ea6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
		 
## zookeeper¿Í»§¶Ë
* bin/zkCli.sh 
* »ù±¾Óï·¨
	* Ìí¼Ó×Ó½ÚµãºÍvalue£ºcreate[-e -p -s] /name dsm£¨´´½¨Ê±Ò»¶¨Òª¼Óvalue£©(Ä¬ÈÏÓÀ¾ÃÎÞÐòºÅ)
	* ¸ü¸Ä×Ó½ÚµãµÄvalue:set /name wukong
	
	![image.png](https://upload-images.jianshu.io/upload_images/14466577-350fa47ebec5a705.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
	
	* »ñÈ¡keyµÄvalue:get /name[watch]
	* Õ¹Ê¾×ÓÊý¾ÝµÄ±ä»¯£º ls /user[watch]
	* É¾³ý½Úµã£º rmr /name
=======
## zookeeperç®€ä»‹
* zookeeperæ˜¯åˆ†å¸ƒå¼ã€é«˜å¯é é«˜å¯ç”¨ç³»ç»Ÿ
* è§£å†³ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒèŠ‚ä¸ŽèŠ‚ç‚¹ä¹‹é—´çš„åŠ¨æ€æ„ŸçŸ¥
* æä¾›çš„åŠŸèƒ½ï¼š
	* æ•°æ®æ³¨å†Œ
	* æ•°æ®æŸ¥è¯¢
	* æ•°æ®ç›‘å¬
	
* æ•°æ®ç»„ç»‡å½¢å¼ï¼škey(znode)--value
* æ•°æ®èŠ‚ç‚¹æ¨¡å¼ï¼š
	* æ°¸ä¹…æ¨¡å¼ Persistentï¼šä¸€æ—¦è¢«åˆ›å»ºï¼Œé™¤éžå®¢æˆ·ç«¯ä¸»åŠ¨åˆ é™¤ï¼Œåˆ™ä¸€ç›´ä¿å­˜ï¼›
	* ä¸´æ—¶æ¨¡å¼ Ephemeralï¼šåˆ›å»ºè¿™ç±»èŠ‚ç‚¹çš„å®¢æˆ·ç«¯å¿…é¡»è·Ÿzké›†ç¾¤ä¿æŒå¿ƒè·³é€šä¿¡ï¼Œä¸€æ—¦å¿ƒè·³è¿žæŽ¥ä¸­æ–­ï¼ŒzkæœåŠ¡ä¼šè‡ªåŠ¨å°†è¿™ä¸ªå®¢æˆ·ç«¯æ‰€åˆ›å»ºçš„èŠ‚ç‚¹åˆ é™¤
	* å¸¦åºå·çš„æ¨¡å¼Sequential ï¼šä¸€æ—¦åˆ›å»ºè¿™ç±»èŠ‚ç‚¹ï¼Œzkä¼šè‡ªä¸»åœ¨å®¢æˆ·ç«¯æ‰€åˆ›å»ºçš„keyä¸Šæ‹¼æŽ¥ä¸€ä¸ªåºå·
		* e
		* e+s
		* p
		* p+s
* zookeeperéœ€è¦å¥‡æ•°å°
	* åŽŸå› ï¼šzookeeperè¿™ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ²¡æœ‰å›ºå®šçš„ä¸»èŠ‚ç‚¹ï¼ˆleaderï¼‰,å®‰è£…æ—¶ä¸åŒºåˆ†ä¸»èŠ‚ç‚¹ï¼Œå®ƒçš„ä¸»èŠ‚ç‚¹æ˜¯é€šè¿‡é›†ç¾¤å„èŠ‚ç‚¹åŠ¨æ€é€‰ä¸¾å‡ºæ¥çš„ï¼›è°å¾—å¤šæ•°ç¥¨ï¼Œè°å°±å½“é€‰ä¸ºleader
	* é€‰ä¸¾ï¼š
		
	![1é€‰ä¸¾.png](https://upload-images.jianshu.io/upload_images/14466577-1ce8e36cd61b6ea6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
		 
## zookeeperå®¢æˆ·ç«¯
* bin/zkCli.sh 
* åŸºæœ¬è¯­æ³•
	* æ·»åŠ å­èŠ‚ç‚¹å’Œvalueï¼šcreate[-e -p -s] /name dsmï¼ˆåˆ›å»ºæ—¶ä¸€å®šè¦åŠ valueï¼‰(é»˜è®¤æ°¸ä¹…æ— åºå·)
	* æ›´æ”¹å­èŠ‚ç‚¹çš„value:set /name wukong
	
	![image.png](https://upload-images.jianshu.io/upload_images/14466577-350fa47ebec5a705.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
	
	* èŽ·å–keyçš„value:get /name[watch]
	* å±•ç¤ºå­æ•°æ®çš„å˜åŒ–ï¼š ls /user[watch]
	* åˆ é™¤èŠ‚ç‚¹ï¼š rmr /name
>>>>>>> 33139095f433383bd1a82f3c7ab96dffe4705918:Zookeeper/1.md
